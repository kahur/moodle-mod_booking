define("mod_booking/wunderbyte",["exports"],(function(_exports){function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}
/**
   * WunderByte javascript library/framework
   *
   * @module mod_booking/wunderbyte
   * @package mod_booking
   * @copyright 2023 Kamil Hurajt <info@wunderbyte.at>
   * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */function WunderByteJS(){}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.WunderByteJS=WunderByteJS,WunderByteJS.prototype.sortable=function(opt){var sortableItems=[],sortableContainer=null,draggingItem=null,options={items:".wb-item-sortable",container:".wb-item-container"};options=_objectSpread(_objectSpread({},options),opt),this.init=function(){sortableItems=document.querySelectorAll(options.items),sortableContainer=document.querySelector(options.container),sortableItems.forEach((function(item){item.setAttribute("draggable",!0)})),sortableContainer.addEventListener("dragstart",this.sortable.bind(this))},this.sortable=function(event){draggingItem=event.target,event.dataTransfer.effectAllowed="move",event.dataTransfer.setData("Text",draggingItem.textContent),sortableContainer.addEventListener("dragover",this.dragOver.bind(this),!1),sortableContainer.addEventListener("dragend",this.dragEnd.bind(this),!1),setTimeout((function(){draggingItem.classList.add("ghost")}),0)},this.getVerticalCenter=function(element){var r=element.getBoundingClientRect();return(r.bottom-r.top)/2},this.getMouseOffset=function(event){var r=event.target.getBoundingClientRect();return{x:event.pageX-r.left,y:event.pageY-r.top}},this.dragOver=function(event){event.preventDefault(),event.dataTransfer.dropEffect="move";var target=event.target;if(target&&target!==draggingItem&&"DIV"==target.nodeName){var offset=this.getMouseOffset(event),middleY=this.getVerticalCenter(event.target);offset.y>middleY&&target.nextSibling?sortableContainer.insertBefore(draggingItem,target.nextSibling):target&&-1!==target.className.indexOf(options.item)&&sortableContainer.insertBefore(draggingItem,target)}},this.dragEnd=function(event){event.preventDefault(),draggingItem&&(draggingItem.classList.remove("ghost"),sortableContainer.removeEventListener("dragover",this.dragOver,!1),sortableContainer.removeEventListener("dragend",this.dragEnd,!1),draggingItem=null)},this.init()},WunderByteJS.prototype.dragable=function(opt){var options={container:".wb-droppable",items:".wb-item-draggable"},draggingItem=null;return options=_objectSpread(_objectSpread({},options),opt),this.init=function(){var _this=this;document.querySelectorAll(options.items).forEach((function(item){item.setAttribute("draggable",!0),item.addEventListener("dragstart",_this.dragStart.bind(_this)),item.addEventListener("dragend",_this.dragEnd.bind(_this))})),document.querySelectorAll(options.container).forEach((function(container){container.classList.add("wb-droppable"),container.addEventListener("dragenter",_this.dragEnter.bind(_this)),container.addEventListener("dragover",_this.dragOver.bind(_this)),container.addEventListener("drop",_this.dragDrop.bind(_this))}))},this.dragStart=function(){var _this2=this;setTimeout((function(){return _this2.classList.add("hidden")}),0),draggingItem=this},this.dragEnd=function(){this.classList.remove("hidden"),draggingItem=null},this.dragDrop=function(){this.append(draggingItem)},this.dragEnter=function(e){e.preventDefault()},this.dragOver=function(e){e.preventDefault()},this.init()}}));

//# sourceMappingURL=wunderbyte.min.js.map